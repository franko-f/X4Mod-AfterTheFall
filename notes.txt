
https://stackoverflow.com/questions/67172960/parsing-xml-file-with-fsharp-xmlprovider 
If you wanted to add the new changeSet to the existing document, the way to do this would be to do something like this:
    doc.XElement.Add(changeSet.XElement)
    doc.XElement.Save("sample.xml")




From https://www.nexusmods.com/x4foundations/mods/1126?tab=posts :

upiterKasparov
member73 posts2 kudos
24 May 2023, 9:04PM
Hello there!

I think I've found the answer to your problems.
Your mod may miss a minor detail like this Ralston one does, and that may be the reason to why god.xml may not work.

In order to ensure that god.xml spawns your stuff, all 'location' tags must include the matchextension="false" attribute!
I don't say that this is your problem with 100% probability, but this is highly probable, that this is the only problem.

So, instead of this:
<location class="sector" macro="homebrew_cluster08_sector001_macro"  />

Use this:
<location class="sector" macro="homebrew_cluster08_sector001_macro" matchextension="false"  />

This rule is also true for the jobs.xml, should you wish to add new jobs!



from DeadAir on egosoft discord: example around count

    <add sel="/defaults/dataset[@macro='Cluster_17_Sector001_macro']/properties[count(./area)=0]" silent="true">
        <area tags="daxenoncore"/>
    </add>
    <add sel="/defaults/dataset[@macro='Cluster_17_Sector001_macro']/properties[count(./area)=1]/area" type="@tags" silent="true">daxenoncore</add>


==== Jobs:
From the x4-modding dischord:
    Manoeuvring with Difficulty â€” Today at 1:30 PM
    maxgalaxy by default is 2x galaxy, the rest looks right
    Also galaxy is more of a target, so it can be higher or lower but factions will try and aim to keep the amount of ships to be around the galaxy value

 Though DeadAir adds:
 "Changing galaxy affects their default target"
 and maxgalaxy is a hard limit. So dropping galaxy would not do what we want. Deadair suggests sector limits or splitting the job in to two.
 One with a smaller target that is the initial spawn, and another with hte rest of the target, but the job set to 'prefer build', so that
 they only build at shipyards and don't spawn in on game start.   